<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
      "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.kfs.assetedu.repository.Jnl12TrRepository">
<sql id="whereQueryAttr">
<!-- 검색 조건 (QueryAttr) -->
<if test= "jnl12_tr_cd != null and jnl12_tr_cd != '' ">
and jnl12_tr_cd = #{jnl12TrCd}
</if>
<if test= "jnl12_tr_nm != null and jnl12_tr_nm != '' ">
and jnl12_tr_nm = #{jnl12TrNm}
</if>
<if test="jnl12_in_out_type != null and jnl12_in_out_type != '' ">
and jnl12_in_out_type = #{jnl12InOutType}
</if>
<if test="jnl12_use_page_type != null and jnl12_use_page_type != '' ">
and jnl12_use_page_type = #{jnl12UsePageType}
</if>
<if test = "jnl12_use_yn != null and jnl12_use_yn != '' ">
and jnl12_use_yn = #{jnl12UseYn}
</if>
<if test = "searchText != null and searchText != '' ">
and upper(concat(jnl12_tr_cd , ' ' , jnl12_tr_nm)) like upper(concat('%', searchText, '%'))
</if>
</sql>

<select id="selectList" parameterType="QueryAttr" resultType="Jnl12Tr">
select jnl12_tr_cd as jnl12TrCd, jnl12_tr_nm as jnl12TrNm, jnl12_in_out_type as jnl12InOutType
	,	jnl12_use_page_type as jnl12UsePageType, jnl12_use_yn as jnl12UseYn
	, f_com_nm('BookInOutType', jnl12_in_out_type) AS jnl12InOutTypeNm
from jnl12_tr
where 1=1
<include refid="whereQueryAttr"/>
</select>
	
<select id="selectOne" parameterType="Jnl12Tr" resultType="Jnl12Tr">
select jnl12_tr_cd as jnl12TrCd, jnl12_tr_nm as jnl12TrNm, jnl12_in_out_type as jnl12InOutType
	,	jnl12_use_page_type as jnl12UsePageType, jnl12_use_yn as jnl12UseYn
	, f_com_nm('BookInOutType', jnl12_in_out_type) AS jnl12InOutTypeNm
from jnl12_tr
where jnl12_tr_cd =#{jnl12TrCd}

</select>

</mapper>